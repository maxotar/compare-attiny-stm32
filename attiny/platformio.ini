[env:ATtiny1616]
platform = atmelmegaavr
board = ATtiny1616
framework = arduino

; Build flags for optimization
build_flags = 
    -Os                    ; Optimize for size
    -DATTINY1616
    -ffunction-sections    ; Place each function in its own section
    -fdata-sections        ; Place each data in its own section
    -flto                  ; Enable link-time optimization
    
build_unflags = 
    -DARDUINO

; Linker flags to remove unused sections
build_src_filter = +<*> -<.git/> -<stm32/>

; Upload settings (adjust based on your programmer)
upload_protocol = serialupdi
upload_speed = 115200
