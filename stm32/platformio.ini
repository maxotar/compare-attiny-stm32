[env:nucleo_l053r8]
platform = ststm32
board = nucleo_l053r8
framework = cmsis

; Build flags for low power optimization
build_flags = 
    -Os                    ; Optimize for size
    -DSTM32L053xx
    -DSTM32L0
    -ffunction-sections    ; Place each function in its own section
    -fdata-sections        ; Place each data in its own section
    -flto                  ; Enable link-time optimization
    -Wl,--gc-sections      ; Remove unused sections
    
; Source filter
build_src_filter = +<*> -<.git/> -<attiny/>

; Upload settings
upload_protocol = stlink
upload_speed = 1800000
debug_tool = stlink

; Optional: Use different STM32L0 board if needed
; Other common boards: disco_l053c8, nucleo_l031k6, etc.
